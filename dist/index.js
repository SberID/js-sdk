"use strict";var e=require("fast-deep-equal"),t=require("unfetch");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(e),r=n(t),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};function a(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var u,d="https://online.sberbank.ru",l={method:"GET",credentials:"include"},f=function(e){return void 0===e&&(e=d),"".concat(e,"/CSAFront/oidc/authorize.do")};!function(e){e.SAFARI="Safari",e.PLAYSTATION_4="PlayStation 4",e.ANDROID_BROWSER="Android Browser",e.CHROME="Chrome",e.CHROMIUM="Chromium",e.ELECTRON="Electron",e.FIREFOX="Firefox",e.QUPZILLA="QupZilla",e.TIZEN="Tizen",e.BADA="Bada",e.WEBOS_BROWSER="WebOS Browser",e.BLACKBERRY="BlackBerry",e.SLIMERJS="SlimerJS",e.PHANTOMJS="PhantomJS",e.AMAZON_SILK="Amazon Silk",e.SAILFISH="Sailfish",e.SEAMONKEY="SeaMonkey",e.VIVALDI="Vivaldi",e.MICROSOFT_EDGE="Microsoft Edge",e.INTERNET_EXPLORER="Internet Explorer",e.WECHAT="WeChat",e.K_MELEON="K-Meleon",e.SLEIPNIR="Sleipnir",e.PUFFIN="Puffin",e.EPIPHANY="Epiphany",e.MAXTHON="Maxthon",e.UC_BROWSER="UC Browser",e.YANDEX_BROWSER="Yandex Browser",e.OPERA_COAST="Opera Coast",e.SWING="Swing",e.FOCUS="Focus",e.MZ_BROWSER="MZ Browser",e.NAVER_WHALE_BROWSER="NAVER Whale Browser",e.SAMSUNG_INTERNET_FOR_ANDROID="Samsung Internet for Android",e.OPERA_TOUCH="Opera Touch",e.OPERA="Opera",e.GOOGLEBOT="Googlebot",e.WINDOWS_PHONE="windows phone",e.GENERIC="Generic",e.ROKU="Roku"}(u||(u={}));var p,h,b,v,g={invalid_request:"В запросе отсутствуют обязательные атрибуты",unauthorized_client:"АС - источник запроса не зарегистрирована или заблокирована в банке либо значение атрибута client_id не соответствует формату",unsupported_response_type:"Значение атрибута response_type не равно «code»",invalid_scope:"Значение атрибута scope не содержит параметр openid в начальной позиции либо запрошенный scope содержит значения, недоступные для АС - источника запроса",access_denied:"Клиент отказался от передачи согласий",invalid_state:"Значение атрибута state не соответствует изначальному",window_closed:"Клиент закрыл окно авторизации через Сбер ID"},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m={needAdditionalRedirect:!0,universalLinkUrl:(void 0===p&&(p=d),"".concat(p,"/CSAFront/oidc/sberbank_id/authorize.do")),baseUrl:f(),deeplinkUrl:"sberbankidlogin://sberbankidsso",debug:!1,generateState:!1,display:"page"},y=function(e){return void 0===e&&(e=window.location.search.slice(1)),e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return e[i]=r?decodeURIComponent(r.replace(/\+/g," ")):"",e}),{}):{}},_=function(e,t){var n=Object.keys(t).map((function(e){return[e,t[e]].map(encodeURIComponent).join("=")})).join("&");return e?"".concat(e).concat(n?"?":"").concat(n):n},S={info:{color:"#0c5460",background:"#d1ecf1",border:"#bee5eb"},success:{color:"#155724",background:"#d4edda",border:"#c3e6cb"},error:{color:"#721c24",background:"#f8d7da",border:"#f5c6cb"}},k=function(e,t){void 0===t&&(t="info");var n=new Date,i="[".concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds().toString().padStart(2,"0"),":").concat(n.getMilliseconds(),"] %c[").concat(t,"]%c "),r="color: ".concat(S[t].color,";background-color: ").concat(S[t].background,";border: 1px solid ").concat(S[t].border);console.info.apply(null,[i,r,""].concat(e))},O=function(e,t){var n=function(n){!e.contains(n.target)&&E(e)&&(t(),i())},i=function(){document.removeEventListener("click",n)};document.addEventListener("click",n)},E=function(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x=function(){for(var e=document.querySelectorAll(".sbid-button-loader"),t=0;t<e.length;t+=1){e[t].classList.add("sbid-button-loader--show")}},I=function(){for(var e=document.querySelectorAll(".sbid-button-loader"),t=0;t<e.length;t+=1){e[t].classList.remove("sbid-button-loader--show")}},A=function(){return window.crypto||window.msCrypto},C=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&A())A().getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*w.length|0;return function(e){for(var t=[],n=0;n<e.byteLength;n+=1){var i=e[n]%w.length;t.push(w[i])}return t.join("")}(t)},L={url:"https://sve.online.sberbank.ru/metrics/partners",init:"auto",enable:!0,buffer:1,apiKey:"da8570065d949a8a3ee551b99f31f7774909575e702289b2743fab0aad0ffe41",subId:""},R=function(e){var t,n;if(window.sberbankIdAnalytics)k(["SberVisor уже иницилизирован"],"info");else{var i=s(s(s({},L),e.sa),{sberId:(null===(t=null==e?void 0:e.oidc)||void 0===t?void 0:t.client_id)||(null===(n=null==e?void 0:e.sa)||void 0===n?void 0:n.clientId)||""});try{Promise.resolve().then((function(){return Xe})).then((function(){window.sberbankIdAnalytics=new window.SberVisor(i)})).catch((function(e){return k(["Ошибка при инициализации SberVisor",e],"error")}))}catch(e){k(["Ошибка при инициализации SberVisor",e],"error")}}},T=function(e){var t=e.eventCategory,n=e.eventAction,i=e.eventType,r=e.result,o=e.description,a=e.extendedProperties,c=e.clientName;if(window.sberbankIdAnalytics){var u,d,l=c||(u="title",(d=document.querySelector('meta[name="'.concat(u,'"]')))&&d.getAttribute("content")||""),f=window.location.origin;try{var p={eventCategory:t,eventAction:n,eventType:i,properties:s(s(s({merchUrl:f,merchantTitle:l,sdkVersion:"js_3.0.3"},r?{result:r}:{}),o?{errorDescription:o}:{}),a)};window.sberbankIdAnalytics.push(p)}catch(e){k(["Ошибка при отправке события (".concat(t,", ").concat(n,", ").concat(i,") в SberVisor"),e],"error")}}},M="Facebook Messenger",N="Facebook",B="Twitter",P="Line",D="Wechat",U="Instagram",F="Electron Application",j="Microsoft Outlook",W="Pinterest App",z="Thunderbird",H="Webview Based Browser",q="Yandex App",V="Windows Phone",G="Windows",K="macOS",Z="iOS",Q="Android",X="WebOS",Y="BlackBerry",J="Bada",$="Tizen",ee="Linux",te="Chrome OS",ne="PlayStation 4",ie="Roku",re="tablet",oe="mobile",se="desktop",ae="tv",ce=/version\/(\d+(\.?_?\d+)+)/i,ue=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},de=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},le=[{test:[/googlebot/i],describe:function(e){var t={name:u.GOOGLEBOT},n=ue(/googlebot\/(\d+(\.\d+))/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:u.OPERA},n=ue(ce,e)||ue(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:u.OPERA},n=ue(/(?:opr|opios)[\s/](\S+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/opt/i],describe:function(e){var t={name:u.OPERA_TOUCH},n=ue(/(?:opt)[\s/](\S+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:u.SAMSUNG_INTERNET_FOR_ANDROID},n=ue(ce,e)||ue(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:u.NAVER_WHALE_BROWSER},n=ue(ce,e)||ue(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:u.MZ_BROWSER},n=ue(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:u.FOCUS},n=ue(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:u.SWING},n=ue(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:u.OPERA_COAST},n=ue(ce,e)||ue(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:u.YANDEX_BROWSER},n=ue(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:u.UC_BROWSER},n=ue(ce,e)||ue(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:u.MAXTHON},n=ue(ce,e)||ue(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:u.EPIPHANY},n=ue(ce,e)||ue(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:u.PUFFIN},n=ue(ce,e)||ue(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:u.SLEIPNIR},n=ue(ce,e)||ue(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:u.K_MELEON},n=ue(ce,e)||ue(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:u.WECHAT},n=ue(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:u.INTERNET_EXPLORER},n=ue(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:u.MICROSOFT_EDGE},n=ue(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:u.MICROSOFT_EDGE},n=de(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:u.VIVALDI},n=ue(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:u.SEAMONKEY},n=ue(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:u.SAILFISH},n=ue(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:u.AMAZON_SILK},n=ue(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:u.PHANTOMJS},n=ue(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:u.SLIMERJS},n=ue(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:u.BLACKBERRY},n=ue(ce,e)||ue(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:u.WEBOS_BROWSER},n=ue(ce,e)||ue(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:u.BADA},n=ue(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:u.TIZEN},n=ue(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:u.QUPZILLA},n=ue(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:u.FIREFOX},n=ue(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:u.ELECTRON},n=ue(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:u.CHROMIUM},n=ue(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ue(ce,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:u.CHROME},n=ue(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:u.ANDROID_BROWSER},n=ue(ce,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:u.PLAYSTATION_4},n=ue(ce,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:u.SAFARI},n=ue(ce,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ue(t,e),version:de(t,e)}}}],fe=[{test:[/\bFB[\w_]+\/(Messenger|MESSENGER)/],describe:function(){return{name:M}}},{test:[/\bFB[\w_]+\//],describe:function(){return{name:N}}},{test:[/\bTwitter/i],describe:function(){return{name:B}}},{test:[/\bLine\//i],describe:function(){return{name:P}}},{test:[/\bMicroMessenger\//i],describe:function(){return{name:D}}},{test:[/\bInstagram/i],describe:function(){return{name:U}}},{test:[/\bElectron/i],describe:function(){return{name:F}}},{test:[/\bOutlook/i],describe:function(){return{name:j}}},{test:[/\bPinterest/i],describe:function(){return{name:W}}},{test:[/\bThunderbird/i],describe:function(){return{name:z}}},{test:[/\bwebview/i,/; wv/],describe:function(){return{name:H}}},{test:[/\bYaApp/i,/\bYandexSearch/i],describe:function(){return{name:q}}}],pe=[{test:[/Roku\/DVP/],describe:function(e){var t=ue(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ie,version:t}}},{test:[/windows phone/i],describe:function(e){var t=ue(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:V,version:t}}},{test:[/windows/i],describe:function(e){var t=ue(/Windows ((NT|XP)( \d\d?.\d)?)/i,e);return{name:G,version:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:Z},n=de(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=ue(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".");return{name:K,version:t}}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=ue(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Z,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=ue(/android[\s/-](\d+(\.\d+)*)/i,e);return{name:Q,version:t}}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=ue(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:X};return t&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=ue(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ue(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ue(/\bbb(\d+)/i,e);return{name:Y,version:t}}},{test:[/bada/i],describe:function(e){var t=ue(/bada\/(\d+(\.\d+)*)/i,e);return{name:J,version:t}}},{test:[/tizen/i],describe:function(e){var t=ue(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:$,version:t}}},{test:[/linux/i],describe:function(){return{name:ee}}},{test:[/CrOS/],describe:function(){return{name:te}}},{test:[/PlayStation 4/],describe:function(e){var t=ue(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ne,version:t}}}],he=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=ue(/(can-l01)/i,e)&&"Nova",n={type:oe,vendor:"Huawei",model:""};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:re,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:re,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:re,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:re,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:re,vendor:"Amazon"}}},{test:[/tablet/i],describe:function(){return{type:re}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=ue(/(ipod|iphone)/i,e);return{type:oe,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:oe,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:oe}}},{test:function(e){return e.getBrowserName()===u.BLACKBERRY},describe:function(){return{type:oe,vendor:"BlackBerry"}}},{test:function(e){return e.getBrowserName()===u.BADA},describe:function(){return{type:oe}}},{test:function(e){return e.getBrowserName()===u.WINDOWS_PHONE},describe:function(){return{type:oe,vendor:"Microsoft"}}},{test:function(e){var t,n=Number(null===(t=String(e.getOSVersion()))||void 0===t?void 0:t.split(".")[0]);return"android"===e.getOSName(!0)&&n>=3},describe:function(){return{type:re}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:oe}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:se,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:se}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:se}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:ae}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:ae}}}],be=function(e){return String(e).toLowerCase()||""},ve=function(){function e(e){if(!e)throw new Error("UserAgent parameter can't be empty ");this.ua=e,this.parsedResult={},this.parse()}return e.prototype.getUA=function(){return this.ua},e.prototype.test=function(e){return e.test(this.ua)},e.prototype.getDetailInfo=function(e){var t=this;return e.find((function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}))},e.prototype.parseBrowser=function(){this.parsedResult.browser={};var e=this.getDetailInfo(le);return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.prototype.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.prototype.getBrowserName=function(e){return e?be(this.getBrowser().name):this.getBrowser().name||""},e.prototype.getBrowserVersion=function(){return this.getBrowser().version},e.prototype.parseOS=function(){this.parsedResult.os={};var e=this.getDetailInfo(pe);return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.prototype.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.prototype.getOSName=function(e){var t=this.getOS().name;return e?be(t):t||""},e.prototype.getOSVersion=function(){return this.getOS().version},e.prototype.parseApp=function(){this.parsedResult.app={};var e=this.getDetailInfo(fe);return e&&(this.parsedResult.app=e.describe(this.getUA())),this.parsedResult.app},e.prototype.getApp=function(){return this.parsedResult.app?this.parsedResult.app:this.parseApp()},e.prototype.getAppName=function(e){return e?be(this.getApp().name):this.getApp().name||""},e.prototype.parsePlatform=function(){this.parsedResult.platform={};var e=this.getDetailInfo(he);return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.prototype.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.prototype.getPlatformType=function(e){var t=this.getPlatform().type;return e?be(t):t||""},e.prototype.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseApp(),this},e.prototype.getResult=function(){return s({},this.parsedResult)},e}(),ge=function(){function e(){}return e.getParser=function(e){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new ve(e)},e.parse=function(e){return new ve(e).getResult()},e}(),we=function(){function e(){this.browserMode="unknown"}return e.prototype.retry=function(e){return new Promise((function(t){var n=0,i=!1,r=window.setInterval((function(){e()&&(window.clearInterval(r),t(i)),n++>50&&(window.clearInterval(r),t(i=!0))}),10)}))},e.prototype.run=function(){var e=this;return new Promise((function(t){(new me).browser(e).detectBrowsingMode(),e.retry((function(){return"unknown"!==e.browserMode})).then((function(){t(e.browserMode)}))}))},e}(),me=function(){function e(){this.browserData=void 0}return e.prototype.browser=function(e){return this.browserData&&"object"==typeof this.browserData||(this.browserData=this.resolve(e)),this.browserData},e.prototype.resolve=function(e){switch(ge.getParser(window.navigator.userAgent).getBrowserName()){case u.SAFARI:return new ke(e);case u.FIREFOX:return new _e(e);case u.INTERNET_EXPLORER:return new Se(e);default:return"webkitRequestFileSystem"in window||"requestFileSystem"in window?new ye(e):window.PointerEvent||"MSPointerEvent"in window?new Se(e):new Oe(e)}},e}(),ye=function(){function e(e){this.navigator=navigator,this.STORAGE_QUOTA_LIMIT=12e7,this.TEMP_STORAGE_QUOTA_LIMIT=11e7,this.BrowserModeDetector=e}return e.prototype.callbackWhenWebkitTemporaryStorageQuotaNotLimited=function(){this.BrowserModeDetector.browserMode="normal"},e.prototype.callbackWhenWebkitTemporaryStorageQuotaLimited=function(){this.BrowserModeDetector.browserMode="incognito"},e.prototype.callbackWhenWebkitStorageQuotaLimited=function(){this.BrowserModeDetector.browserMode="incognito"},e.prototype.checkWebkitTemporaryStorageQuota=function(){var e=this;void 0!==this.navigator.webkitTemporaryStorage&&void 0!==this.navigator.webkitTemporaryStorage.queryUsageAndQuota?this.navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,n){n<e.TEMP_STORAGE_QUOTA_LIMIT?e.callbackWhenWebkitTemporaryStorageQuotaLimited():e.callbackWhenWebkitTemporaryStorageQuotaNotLimited()}),(function(){e.callbackWhenWebkitTemporaryStorageQuotaNotLimited()})):this.callbackWhenWebkitTemporaryStorageQuotaNotLimited()},e.prototype.checkStorageQuota=function(){var e=this;void 0!==navigator.storage&&void 0!==navigator.storage.estimate?navigator.storage.estimate().then((function(t){(null==t?void 0:t.quota)&&(null==t?void 0:t.quota)<e.STORAGE_QUOTA_LIMIT?e.callbackWhenWebkitStorageQuotaLimited():e.callbackWhenWebkitStorageQuotaNotLimited()})):this.callbackWhenWebkitStorageQuotaNotLimited()},e.prototype.callbackWhenWebkitStorageQuotaNotLimited=function(){this.checkWebkitTemporaryStorageQuota()},e.prototype.detectBrowsingMode=function(){this.checkStorageQuota()},e}(),_e=function(){function e(e){this.BrowserModeDetector=e}return e.prototype.callbackWhenIndexedDBNotWorking=function(){this.BrowserModeDetector.browserMode="incognito"},e.prototype.callbackWhenIndexedDBWorking=function(){var e=this;"unknown"===this.BrowserModeDetector.browserMode&&this.BrowserModeDetector.retry((function(){return"done"===e.db.readyState})).then((function(t){if(t)return e.callbackWhenIndexedDBNotWorking();e.db.result&&(e.BrowserModeDetector.browserMode="normal")}))},e.prototype.detectBrowsingMode=function(){this.db=indexedDB.open("i"),this.db.onsuccess=this.callbackWhenIndexedDBWorking.bind(this),this.db.onerror=this.callbackWhenIndexedDBNotWorking.bind(this)},e}(),Se=function(){function e(e){this.BrowserModeDetector=e}return e.prototype.detectBrowsingMode=function(){this.BrowserModeDetector.browserMode="normal";try{window.indexedDB||(this.BrowserModeDetector.browserMode="incognito")}catch(e){this.BrowserModeDetector.browserMode="incognito"}},e}(),ke=function(){function e(e){this.BrowserModeDetector=e}return e.prototype.tryFillLocalStorage=function(e){var t={size:e,payload:new Array(e/4+1).join("aあ"),lastModifiedDate:new Date,name:1e5+~~(1e5*Math.random())+".txt"};try{localStorage.setItem(t.name,JSON.stringify(t))}catch(e){try{localStorage.removeItem(t.name)}catch(e){}return!1}try{localStorage.removeItem(t.name)}catch(e){}return!0},e.prototype.detectBrowsingMode=function(){var e,t,n=window,i=ge.getParser(window.navigator.userAgent),r=parseInt(null===(e=i.getOSVersion())||void 0===e?void 0:e.split(".")[0],10)||0,o=parseInt(null===(t=i.getBrowserVersion())||void 0===t?void 0:t.split(".")[0],10)||0,s=i.getOSName(!0);if(!n.safariIncognito&&navigator.cookieEnabled){try{n.openDatabase&&n.openDatabase(null,null,null,null),n.localStorage.setItem("test","1")}catch(e){this.BrowserModeDetector.browserMode="incognito"}if("unknown"===this.BrowserModeDetector.browserMode)if(n.localStorage.removeItem("test"),"ios"===s&&r>=14||"macos"===s&&o>=14||"ios"===s&&0===o)this.BrowserModeDetector.browserMode="normal";else{this.tryFillLocalStorage(5242880)?this.BrowserModeDetector.browserMode="incognito":this.BrowserModeDetector.browserMode="normal"}}else this.BrowserModeDetector.browserMode="incognito"},e}(),Oe=function(){function e(e){this.BrowserModeDetector=e}return e.prototype.detectBrowsingMode=function(){this.BrowserModeDetector.browserMode="normal"},e}(),Ee=function(){function e(){}return e.get=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},e.set=function(e,t,n){void 0===n&&(n={});var i=n.expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+1e3*i),i=n.expires=r}i instanceof Date&&(n.expires=i.toUTCString()),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);var o="".concat(e,"=").concat(t);for(var s in n)n[s]&&(o+="; ".concat(s),!0!==n[s]&&(o+="=".concat(n[s].split(";")[0])));document.cookie=o},e.delete=function(e){this.set(e,"",{expires:-1})},e}(),xe=((h={})[u.AMAZON_SILK]="amazon_silk",h[u.ANDROID_BROWSER]="android",h[u.BADA]="bada",h[u.BLACKBERRY]="blackberry",h[u.CHROME]="chrome",h[u.CHROMIUM]="chromium",h[u.ELECTRON]="electron",h[u.EPIPHANY]="epiphany",h[u.FIREFOX]="firefox",h[u.FOCUS]="focus",h[u.GENERIC]="generic",h[u.GOOGLEBOT]="googlebot",h[u.INTERNET_EXPLORER]="ie",h[u.K_MELEON]="k_meleon",h[u.MAXTHON]="maxthon",h[u.MICROSOFT_EDGE]="edge",h[u.MZ_BROWSER]="mz",h[u.NAVER_WHALE_BROWSER]="naver",h[u.OPERA]="opera",h[u.OPERA_COAST]="opera_coast",h[u.OPERA_TOUCH]="opera_touch",h[u.PHANTOMJS]="phantomjs",h[u.PUFFIN]="puffin",h[u.QUPZILLA]="qupzilla",h[u.SAFARI]="safari",h[u.SAILFISH]="sailfish",h[u.SAMSUNG_INTERNET_FOR_ANDROID]="samsung_internet",h[u.SEAMONKEY]="seamonkey",h[u.SLEIPNIR]="sleipnir",h[u.SWING]="swing",h[u.TIZEN]="tizen",h[u.UC_BROWSER]="uc",h[u.VIVALDI]="vivaldi",h[u.WEBOS_BROWSER]="webos",h[u.WECHAT]="wechat",h[u.YANDEX_BROWSER]="yandex",h[u.ROKU]="roku",h),Ie=["chrome","yandex","firefox","samsung_internet","opera","opera_touch"];!function(e){e.ANDROID="android",e.IOS="ios"}(b||(b={})),function(e){e.HTTP="http",e.HTTPS="https"}(v||(v={}));var Ae={android:{chrome:"com.android.chrome",yandex:"com.yandex.browser",opera:"com.opera.browser",firefox:"org.mozilla.firefox",samsung_internet:"com.sec.android.app.sbrowser"},ios:{chrome:{https:"googlechromes://",http:"googlechrome://"},yandex:{https:"yandexbrowser-open-url://https://",http:"yandexbrowser-open-url://http://"},opera_touch:{https:"touch-https://",http:"touch-http://"},firefox:{https:"firefox://open-url%3Furl%3Dhttps%3A%2F%2F",http:"firefox://open-url%3Furl%3Dhttp%3A%2F%2F"}}},Ce=function(e){return xe[e]},Le=function(){function e(e){this.proxyParams=["authApp","app_redirect_uri"],this.parser=ge.getParser(window.navigator.userAgent);var t=this.parser.getBrowserName(),n=e.display&&t!==u.INTERNET_EXPLORER?e.display:"page";this.config=s(s(s({},m),e.universalLink),{debug:!!e.debug,generateState:!!e.generateState,display:n}),e.utmProxyDisabled||(this.proxyParams=this.proxyParams.concat(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"])),this.config.debug&&(k(["Инициализируем модуль UniversalLink"],"info"),k(["Параметры инициализации: ",this.config],"info"))}return e.prototype.isAllowedBrowser=function(e){return Ie.includes(e)},e.prototype.getAdditionalRedirectParams=function(e,t,n){var i={};if(this.config.needAdditionalRedirect&&Object.prototype.hasOwnProperty.call(Ae,e)&&Object.prototype.hasOwnProperty.call(Ae[e],t))switch(e){case b.ANDROID:i.package=Ae[e][t];break;case b.IOS:var r="";try{r=decodeURIComponent(n||"")}catch(e){k(["Ошибка декодирования redirect_uri",e],"error")}var o=r.includes("".concat(v.HTTPS,"://"))?v.HTTPS:v.HTTP;i.ext_redirect_uri="".concat(Ae[e][t][o]).concat(r.replace(/^https?:\/\//,""))}return i},e.prototype.generateState=function(e){return void 0===e&&(e=43),C(e)},e.prototype.buildOidcParams=function(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))try{t[n]=decodeURIComponent(e[n])}catch(e){t[n]="",this.config.debug&&k(["Ошибка декодирования oidc параметра",e],"error")}e.scope&&e.scope.includes("+")&&(e.scope=e.scope.split("+").join(" "));var i=Ce(this.parser.getBrowserName()),r=this.parser.getOSName(!0),o=s({},this.getAdditionalRedirectParams(r,i,t.redirect_uri));o.display=this.config.display||"page";for(var a=y(),c=Object.keys(a),u=0;u<c.length;u+=1)this.proxyParams.includes(c[u])&&(o[c[u]]=a[c[u]]);if(this.config.generateState&&"popup"===this.config.display&&!function(){var e=y();return!(!e.code&&!e.error||!e.state)}()){var d=this.generateState();Ee.set("sbid_state",d,{path:"/"}),o.state=d}return s(s({},t),o)},e.prototype.run=function(e){return void 0===e&&(e={}),a(this,void 0,void 0,(function(){var t,n,i,r,o,a,d,l,f,p,h,v;return c(this,(function(c){switch(c.label){case 0:return t=s(s({},this.config.params),e),[4,this.detect()];case 1:return n="incognito"===c.sent(),i=this.parser.getResult(),r=Ce(this.parser.getBrowserName()),o=this.parser.getOSName(!0),a=this.buildOidcParams(t),d=o===b.ANDROID&&this.isAllowedBrowser(r),l=o===b.IOS&&(r===xe[u.SAFARI]||this.isAllowedBrowser(r)&&this.config.needAdditionalRedirect),f=!n&&!i.app.name&&(l||d),p=_(this.config.deeplinkUrl,e),h=_(f?this.config.universalLinkUrl:this.config.baseUrl,e),v={isPrivate:n,isUniversalLink:f,app:i.app.name,isWebview:!!i.app.name,os:o,browser:r,link:h,deeplink:p,oidc:a},this.config.debug&&k(["Получены данные для формирования ссылки: ",v]),[2,Promise.resolve(v)]}}))}))},e.prototype.detect=function(){try{return(new we).run()}catch(e){return Promise.resolve("normal")}},e}(),Re={enable:!1,debug:!1,mode:"default",timeout:1500,baseUrl:d},Te=function(e){var t=function(t){var n;try{n=JSON.parse(t.data)}catch(e){return}e(n,t)};return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}},Me=function(e,t){!function(e,t,n){void 0===n&&(n="*"),t&&t.postMessage(JSON.stringify(e),n)}(e,t)},Ne=function(){function e(e){this.isFastLoginIframeRegistered=!1,this.isFastLoginDataFetched=!1,this.iFrameName="sberid-iframe",this.isFastLoginIframeRegistered=!1,this.isFastLoginDataFetched=!1,this.config=s(s(s({},Re),e.fastLogin),{debug:e.debug,baseUrl:e.baseUrl||d,oidcParams:e.oidc})}return e.prototype.removeLoadDataListener=function(){},e.prototype.authorization=function(e){return a(this,void 0,void 0,(function(){var t,n;return c(this,(function(i){switch(i.label){case 0:return(t=e||this.config.oidcParams)?(n=this.buildUrl(t),[4,this.createIFrame(n).catch((function(e){return e}))]):[2,new Promise((function(e,t){t({code:"error",error:"invalid_request",description:g.invalid_request})}))];case 1:return[2,i.sent()]}}))}))},e.prototype.buildUrl=function(e){var t=s({prompt:"none"},e);return _("".concat(this.config.baseUrl,"/CSAFront/oidc/authorizelow.do"),t)},e.prototype.createIFrame=function(e){return a(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){return this.fastLoginIframe=function(e,t,n,i){void 0===t&&(t="sberid-iframe");var r=document.createElement("iframe");return r.setAttribute("src",e),r.setAttribute("frameborder","0"),r.setAttribute("name",t),r.setAttribute("id",t),r.width="0",r.height="0",r.style.display="none",r.style.position="absolute",r.style.left="-9999px","function"==typeof n&&(r.onload=n),"function"==typeof i&&(r.onerror=i),r}(e,this.iFrameName,(function(e){t.onFastLoginIframeCreateSuccess(e)}),(function(){throw t.destroyFastLogin(),{success:!1,error:{code:"error",error:"iframe_error",description:"Ошибка при создании iframe"}}})),document.body.append(this.fastLoginIframe),[2,new Promise((function(e,n){var i=setTimeout((function(){t.destroyFastLogin(),n({success:!1,error:{type:"timeout",description:"Ошибка при создании iframe"}})}),t.config.timeout),r=Te((function(o){"iframe is registered"===o.type&&(clearTimeout(i),t.isFastLoginIframeRegistered=!0,t.loadFastLoginData().then((function(t){e(t)})).catch((function(e){n(e)})).finally((function(){t.destroyFastLogin()})),r())}))}))]}))}))},e.prototype.onFastLoginIframeCreateSuccess=function(e){this.config.debug&&k(["Iframe для быстрого входа создан",e])},e.prototype.loadFastLoginData=function(){return a(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){switch(t.label){case 0:return this.isFastLoginIframeRegistered?[4,this.fetchFastLoginData()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,new Promise((function(t,n){e.removeLoadDataListener=Te((function(i){return a(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:switch(i.type){case"iframe is registered":return[3,1];case"success":return[3,3];case"error":return[3,4]}return[3,5];case 1:return[4,this.fetchFastLoginData()];case 2:return e.sent(),[3,6];case 3:return this.config.debug&&k(["Успешно получены данные при быстром входе",i.data],"success"),t(i.data),[3,6];case 4:return this.config.debug&&k(["Ошибка получения данных при быстром входе",i.data],"error"),n(i.data),[3,6];case 5:return[3,6];case 6:return[2]}}))}))}))}))]}}))}))},e.prototype.fetchFastLoginData=function(){var e;return a(this,void 0,void 0,(function(){return c(this,(function(t){return this.isFastLoginDataFetched||!this.fastLoginIframe||(Me({type:"fetch data"},null===(e=this.fastLoginIframe)||void 0===e?void 0:e.contentWindow),this.isFastLoginDataFetched=!0),[2]}))}))},e.prototype.destroyFastLogin=function(){this.config.debug&&k(["Iframe для быстрого входа удален"]),this.fastLoginIframe&&this.fastLoginIframe.remove(),this.removeLoadDataListener&&this.removeLoadDataListener(),this.isFastLoginIframeRegistered=!1,this.isFastLoginDataFetched=!1},e}(),Be=function(e,t){return a(void 0,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,r.default(e,t).then((function(e){return a(void 0,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:if(!e.ok)return[2,{success:!1}];t=void 0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,e.json()];case 2:return t=n.sent(),[3,5];case 3:return n.sent(),[3,5];case 4:return[7];case 5:return[2,{success:!0,data:t}]}}))}))})).catch((function(){return{success:!1}}))];case 1:return[2,n.sent()]}}))}))},Pe=function(e,t,n){return a(void 0,void 0,void 0,(function(){var i,r;return c(this,(function(o){return i=new AbortController,t.signal=i.signal,[2,Promise.race([Be(e,t),new Promise((function(t,o){r=setTimeout((function(){i.abort();var t={success:!1,error:{description:"Ошибка при выполнении запроса ".concat(e),code:"request_fail"}};o(t)}),n)}))]).finally((function(){clearTimeout(r)}))]}))}))},De=function e(){var t=this;return this.cache={},this.set=function(e,n){var i={data:n};t.cache[e]=i},this.get=function(e){var n=t.cache[e];return new Promise(n?function(e){return e(n.data)}:function(e){return e(void 0)})},this.remove=function(e){delete t.cache[e]},this.all=function(){return Object.keys(t.cache)},e.instance?e.instance:(e.instance=this,this)},Ue=function(){function e(){if(this.config={baseUrl:d},this.cache=new De,this.listeners=[],e.instance)throw new Error("Error: Instantiation failed: Use UserHelper.getInstance() instead of new.");e.instance=this}return e.getInstance=function(){return e.instance},e.prototype.setConfig=function(e){this.config=s(s({},this.config),e)},e.prototype.setListener=function(e){this.listeners.push(e)},e.prototype.callListeners=function(e){for(var t=0;t<this.listeners.length;t+=1)this.listeners[t].call(this,e)},e.prototype.getUser=function(e){return void 0===e&&(e=!0),a(this,void 0,void 0,(function(){var t,n,i;return c(this,(function(r){switch(r.label){case 0:return this.config.baseUrl&&this.config.clientId?(t="".concat(this.config.baseUrl,"/CSAFront/api/oidc/sbid?client_id=").concat(this.config.clientId),[4,this.cache.get("user")]):[2];case 1:return n=r.sent(),!e&&n?[2,n]:[4,Pe(t,l,1e4)];case 2:return(i=r.sent()).success&&(n=i.data),n?(this.cache.set("user",n),this.callListeners(n),[2,n]):[2]}}))}))},e.prototype.resetUser=function(){return a(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return this.config.baseUrl&&this.config.clientId?(e="".concat(this.config.baseUrl,"/CSAFront/api/oidc/sbid/reset?client_id=").concat(this.config.clientId),[4,Pe(e,l,1e4)]):[2,!1];case 1:return t.sent().success?(this.cache.remove("user"),this.callListeners(),[2,!0]):[2,!1]}}))}))},e.instance=new e,e}(),Fe={default:{anonymous:"Войти по Сбер ID",personal:"Войти как {{userName}}"},resume:{anonymous:"Продолжить со Сбер ID",personal:"Продолжить как {{userName}}"},login:{anonymous:"Сбер ID",personal:"Войти как {{userName}}"},fill:{anonymous:"Заполнить со Сбер ID",personal:"Войти как {{userName}}"},custom:{anonymous:"Войти по Сбер ID",personal:"Войти как {{userName}}"}},je=function(){function e(e,t,n){var i,r,o,a,c,u,d,l,f=this;this.config={personalization:!!e.personalization,debug:!!e.debug,sa:!!(null===(i=e.sa)||void 0===i?void 0:i.enable),changeUser:!!e.changeUser,type:(null===(r=e.buttonProps)||void 0===r?void 0:r.type)||"default",loader:null===(a=null===(o=e.buttonProps)||void 0===o?void 0:o.loader)||void 0===a||a,logo:null===(u=null===(c=e.buttonProps)||void 0===c?void 0:c.logo)||void 0===u||u,size:(null===(d=e.buttonProps)||void 0===d?void 0:d.size)||"default"},this.container=t,this.text=s(s({},Fe[this.config.type]),"custom"===this.config.type?null===(l=e.buttonProps)||void 0===l?void 0:l.custom:{}),this.userHelper=Ue.getInstance(),this.userHelper.setListener(this.handleUserChange.bind(this)),this.link=this.create(),n&&this.link.addEventListener("click",(function(e){n(e,f.link)})),this.container.appendChild(this.link),this.config.changeUser&&this.initChangeUser()}return e.prototype.initChangeUser=function(){var e=this;this.changeUserElement=this.link&&this.link.querySelector(".sbid-button-change-user")||void 0,this.changeUserElement&&(this.changeUserPopupElement=this.changeUserElement.querySelector(".sbid-button-change-user__popup")||void 0,this.changeUserElement.addEventListener("click",(function(t){if(e.changeUserElement){var n="none"===e.changeUserElement.dataset.stage;e.changeUserElement.dataset.stage=n?"popup":"none",n&&e.changeUserPopupElement&&O(e.changeUserPopupElement,(function(){e.changeUserElement&&(e.changeUserElement.dataset.stage="none")}))}t.preventDefault(),t.stopPropagation()})),this.changeUserPopupElement&&this.changeUserPopupElement.addEventListener("click",this.changeUser.bind(this)))},e.prototype.changeUser=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(i){switch(i.label){case 0:return x(),this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Change_User_Button_Click",eventType:"Click"}),this.config.debug&&k(["Сбрасываем информацию о пользователе"],"info"),[4,this.userHelper.resetUser()];case 1:return i.sent()?(this.config.debug&&k(["Данные о пользователе удалены"],"success"),this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Change_User_Result",eventType:"Result",description:"success"}),this.changeUserElement&&(this.changeUserElement.dataset.stage="none")):(this.config.debug&&k(["Ошибка при удалении данных о пользователе"],"error"),this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Change_User_Result",eventType:"Result",description:"fail"}),this.changeUserElement&&(this.changeUserElement.dataset.stage,(t=this.changeUserElement.querySelector(".sbid-button-change-user__error")||void 0)&&(t.innerHTML="Сервис временно недоступен",O(t,(function(){n.changeUserElement&&(n.changeUserElement.dataset.stage="none")}))))),I(),e.preventDefault(),e.stopPropagation(),[2]}}))}))},e.prototype.handleUserChange=function(e){i.default(e,this.user)||(this.user=e,this.setText())},e.prototype.getSize=function(){var e=document.createElement("div"),t=document.getElementsByTagName("body")[0],n=this.create();e.className="sbid-check-button-container",e.id="i-sbid-check-button-container",e.appendChild(n),t.appendChild(e);var i=n.getBoundingClientRect();return e.remove(),i},e.prototype.isEnoughSpaceFromPersonalization=function(){var e,t=this.getSize(),n=this.config.changeUser?24:0;return!(t.width+n>=(null===(e=this.container.getBoundingClientRect())||void 0===e?void 0:e.width))},e.prototype.create=function(){var e=document.createElement("a");return e.className="sbid-button sbid-button--".concat(this.config.size),e.id="i-sbid-button-".concat(C(6)),e.dataset.personalization="false",e.innerHTML="\n        ".concat(this.config.logo?'<span class="sbid-button__logo"><svg style="display: block" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 0C16.0927 0 18.9337 1.08103 21.1657 2.88421L18.6371 4.74793C17.0315 3.64848 15.0899 3.00354 13 3.00354C7.48924 3.00354 3.00587 7.48999 3.00587 13.0013C3.00587 18.5126 7.48924 22.9965 13 22.9965C18.5134 22.9965 22.9968 18.5126 22.9968 13.0013C22.9968 12.9118 22.9941 12.8223 22.9924 12.7328L25.7912 10.6699C25.9289 11.4245 26 12.2055 26 13.0013C26 20.1807 20.1795 26 13 26C5.82135 26 0 20.1807 0 13.0013C0 5.81931 5.82135 0 13 0ZM23.2856 5.05241C23.9006 5.84651 24.4262 6.71169 24.8456 7.63565L13.0002 16.3673L8.05093 13.2628V9.52921L13.0002 12.6337L23.2856 5.05241Z" fill=":logoFill:"/></svg></span>':"",'\n            <span class="sbid-button__text">').concat(this.getText().text,"</span>\n            ").concat(this.config.changeUser?'<span class="sbid-button-change-user" data-stage="none"><svg width="4" height="18" viewBox="0 0 4 18" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="2" r="2" fill="white"/><circle cx="2" cy="9" r="2" fill="white"/><circle cx="2" cy="16" r="2" fill="white"/></svg><span class="sbid-button-change-user__popup">Сменить пользователя</span></span><span class="sbid-button-change-user__error"></span></span>':"","\n            ").concat(this.config.loader?'<span class="sbid-button-loader"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve"><path opacity="0.2" fill="#fff" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/><path fill="#fff" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"/></path></svg></span>':"","\n        "),e},e.prototype.getText=function(){if(this.config.personalization&&this.user){var e=[];return this.user.firstname&&e.push(this.user.firstname),this.user.surname&&e.push(this.user.surname),{text:this.text.personal.replace("{{userName}}",e.join(" ")),personalization:!0}}return{text:this.text.anonymous,personalization:!1}},e.prototype.setText=function(){if(this.isEnoughSpaceFromPersonalization()&&this.link){var e=this.link.querySelector(".sbid-button__text"),t=this.getText();e&&(e.innerHTML=t.text),this.link.dataset.personalization=t.personalization.toString()}},e.prototype.disable=function(){var e;null===(e=this.link)||void 0===e||e.setAttribute("disabled","disabled")},e.prototype.enable=function(){var e;null===(e=this.link)||void 0===e||e.removeAttribute("disabled")},e.prototype.isDisabled=function(){var e;return null===(e=this.link)||void 0===e?void 0:e.hasAttribute("disabled")},e.prototype.setUrl=function(e){var t;null===(t=this.link)||void 0===t||t.setAttribute("href",e)},e.prototype.getButtonElement=function(){return this.link},e}(),We=function(e){function t(t,n,i){var r=s(s({},t),{buttonProps:{type:"resume"}});return e.call(this,r,n,i)||this}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.isEnoughSpaceFromPersonalization=function(){return!0},t}(je),ze={autoCloseDelay:90,autoClose:!0,enable:!1,animation:!0,sa:!1,position:"bottom-right",offset:{top:30,bottom:30,left:30,right:30},debug:!1,fastLogin:!1},He=function(e,t,n,i){return new Promise((function(r){var o=+new Date;n.style.opacity=e;var s=function(){n.style.opacity="".concat(+n.style.opacity+t*(+new Date-o)/i),o=+new Date,+n.style.opacity<1?requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16):r()};s()}))},qe=He.bind(null,"0",1),Ve=He.bind(null,"1",-1),Ge=function(){function e(t){var n,i,r;this.parser=ge.getParser(window.navigator.userAgent),this.onSuccessCallback=function(){},this.onErrorCallback=function(){},this.notification=document.createElement("div"),this.config=s(s(s({},ze),t.notification),{position:e.getDefaultPosition(t.notification&&t.notification.position),fastLogin:!!(null===(n=t.fastLogin)||void 0===n?void 0:n.enable),sa:!!(null===(i=t.sa)||void 0===i?void 0:i.enable),debug:!!t.debug}),this.userHelper=Ue.getInstance(),this.userHelper.setConfig({baseUrl:t.baseUrl,clientId:t.oidc.client_id}),this.userHelper.setListener(this.handleUserChange.bind(this)),this.universalLinkDetect=new Le(t),this.fastLogin=new Ne(t),this.config.sa&&"auto"===(null===(r=null==t?void 0:t.sa)||void 0===r?void 0:r.init)&&R(t),t.onSuccessCallback&&(this.onSuccessCallback=t.onSuccessCallback),t.onErrorCallback&&(this.onErrorCallback=t.onErrorCallback),this.create(t),this.setOIDCParams(t)}return e.prototype.handleUserChange=function(e){i.default(this.user,e)||(this.user=e,e||this.hide())},e.prototype.setOIDCParams=function(e){return a(this,void 0,void 0,(function(){var t,n,i,r;return c(this,(function(o){switch(o.label){case 0:return t=this.universalLinkDetect.buildOidcParams(e.oidc),n=Object.keys(t),i=n.includes("app_redirect_uri")||n.includes("authApp")||"false"===n.is_universal_link,!e.mweb2app||i?[3,2]:[4,this.universalLinkDetect.run(t)];case 1:return r=o.sent(),this.button.setUrl(r.link),[3,3];case 2:this.button.setUrl(_(f(e.baseUrl),t)),o.label=3;case 3:return this.oidcParams=s({},t),[2]}}))}))},e.prototype.silentAuthorization=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.fastLogin.authorization(this.oidcParams)];case 1:return[2,e.sent()]}}))}))},e.prototype.create=function(e){return a(this,void 0,void 0,(function(){var t,n,i,r;return c(this,(function(o){return this.notification||(this.notification=document.createElement("div")),t=document.getElementsByTagName("body")[0],(n=document.createElement("div")).className="sbid-notification-banner",n.id="i-sbid-notification-banner",function(e,t){if(null==e?void 0:e.style)for(var n in t)e.style[n]=t[n]}(n,this.getStyle()),(i=document.createElement("div")).innerHTML="Вход по Сбер ID",i.className="sbid-notification-banner__label",n.appendChild(i),(r=document.createElement("a")).innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 4.65094L10.3675 0.282877C10.7431 -0.0927631 11.3485 -0.0942703 11.721 0.27826C12.0961 0.653395 12.0914 1.25686 11.7164 1.63195L7.34886 6L11.7164 10.368C12.0914 10.7431 12.0961 11.3466 11.721 11.7217C11.3485 12.0943 10.7431 12.0928 10.3675 11.7171L6 7.34906L1.63247 11.7171C1.25688 12.0928 0.651469 12.0943 0.278986 11.7217C-0.0960822 11.3466 -0.0914182 10.7431 0.283602 10.368L4.65114 6L0.283602 1.63195C-0.0914182 1.25686 -0.0960822 0.653395 0.278986 0.27826C0.651469 -0.0942703 1.25688 -0.0927631 1.63247 0.282877L6 4.65094Z" fill="#767676"/></svg>',r.className="sbid-notification-banner__close",n.appendChild(r),r.addEventListener("click",this.onClose.bind(this)),this.button=new We(e,n,e.onButtonClick||this.handleButtonClick.bind(this)),t.appendChild(n),this.notification=n,[2]}))}))},e.prototype.handleButtonClick=function(e){var t,n;return a(this,void 0,void 0,(function(){var i,r;return c(this,(function(o){switch(o.label){case 0:return e.preventDefault(),e.stopPropagation(),"true"===(null===(t=e.target)||void 0===t?void 0:t.getAttribute("disabled"))?[2,!1]:(x(),this.button.disable(),this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Banner_Login_Button_Click",eventType:"Click"}),i=(null===(n=e.target.closest(".sbid-button"))||void 0===n?void 0:n.getAttribute("href"))||"",this.user&&this.config.fastLogin?[4,this.silentAuthorization()]:[3,2]);case 1:return(r=o.sent()).success?(this.config.debug&&k(["Успешный быстрый вход",r.data],"success"),this.onSuccessCallback(r.data),this.onClose()):(this.config.debug&&k(["Ошибка быстрого входа",r.data],"error"),window.location.href=i),I(),this.button.enable(),[3,3];case 2:window.location.href=i,o.label=3;case 3:return[2,!1]}}))}))},e.prototype.isMobile=function(){return"mobile"===this.parser.getPlatformType(!0)},e.prototype.isNotification=function(){return!!this.notification},e.prototype.show=function(e){return a(this,void 0,void 0,(function(){var t,n,i=this;return c(this,(function(r){switch(r.label){case 0:return this.user||e?[3,2]:[4,this.userHelper.getUser().catch((function(e){i.config.debug&&k(["Ошибка при получении данных о пользователе",e],"error")}))];case 1:if(!(t=r.sent()))return[2];this.user=t,r.label=2;case 2:return n=this.config.animation?500:12,this.notification.classList.add("sbid-notification-banner--show"),qe(this.notification,n),this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Notification_Banner_Show",eventType:"Show",description:"success"}),this.isMobile()&&this.config.autoClose&&(this.config.debug&&k("Баннер будет скрыт через ".concat(this.config.autoCloseDelay," секунд.")),setTimeout(this.onClose.bind(this),1e3*this.config.autoCloseDelay)),"function"==typeof this.config.onOpen&&this.config.onOpen(),[2]}}))}))},e.prototype.hide=function(){var e=this;if(this.notification){var t=this.config.animation?500:12;Ve(this.notification,t).then((function(){e.notification.remove()})),this.notification.classList.remove("sbid-notification-banner--show")}},e.prototype.onClose=function(){this.notification&&(this.hide(),this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Notification_Banner_Close",eventType:"Close",description:"success"}));var e=+Ee.get("sbid_notification_banner_close_count")||0,t=new Date;Ee.set("sbid_notification_banner_closed","1",{path:"/",expires:this.getCookieExpires(e)}),Ee.set("sbid_notification_banner_close_count","".concat(e+1),{path:"/",expires:new Date(t.getFullYear()+1,t.getMonth(),t.getDate())}),this.config.onClose&&"function"==typeof this.config.onClose&&this.config.onClose()},e.prototype.getStyle=function(){var e={};return this.isMobile()||(["bottom-left","top-left"].includes(this.config.position)&&(e.left="".concat(this.config.offset.left,"px")),["bottom-right","top-right"].includes(this.config.position)&&(e.right="".concat(this.config.offset.right,"px")),["bottom-right","bottom-left"].includes(this.config.position)&&(e.bottom="".concat(this.config.offset.bottom,"px")),["top-right","top-left"].includes(this.config.position)&&(e.top="".concat(this.config.offset.top,"px"))),e},e.prototype.getCookieExpires=function(e){var t=[7200,86400,604800,2419200],n=e||0;return e>=t.length&&(n=t.length-1),t[n]},e.prototype.destroy=function(){this.notification.remove()},e.getDefaultPosition=function(e){var t="bottom-right";switch(e){case"left":t="bottom-left";break;case"right":t="bottom-right"}return t=e&&["bottom-left","bottom-right","top-left","top-right"].includes(e)?e:t},e}(),Ke=function(){function e(e){this.buttons=[],this.onSuccessCallback=function(){},this.onErrorCallback=function(){},this.parser=ge.getParser(window.navigator.userAgent),this.windowStatus="closed",this.userHelper=Ue.getInstance(),e.onSuccessCallback&&(this.onSuccessCallback=e.onSuccessCallback),e.onErrorCallback&&(this.onErrorCallback=e.onErrorCallback),this.updateConfig(e),this.onInit(e)}return e.prototype.removeWindowListener=function(){},e.prototype.updateConfig=function(e){var t,n,i,r,o,a=s({enable:!1,allowSberIDRedirects:[],mode:"default"},e.deeplink),c=this.parser.getBrowserName(),l=e.display&&c!==u.INTERNET_EXPLORER?e.display:"page";this.config={personalization:!!e.personalization,changeUser:!!e.changeUser,baseUrl:null!==(t=e.baseUrl)&&void 0!==t?t:d,debug:!!e.debug,mweb2app:!!e.mweb2app,fastLogin:!!(null===(n=e.fastLogin)||void 0===n?void 0:n.enable),sa:!!(null===(i=e.sa)||void 0===i?void 0:i.enable),fastLoginMode:null===(r=e.fastLogin)||void 0===r?void 0:r.mode,notification:!!(null===(o=e.notification)||void 0===o?void 0:o.enable),display:l,generateState:!!e.generateState,oidc:e.oidc,container:e.container,deeplink:a}},e.prototype.onInit=function(e){var t;if(this.config.sa&&"auto"===(null===(t=null==e?void 0:e.sa)||void 0===t?void 0:t.init)&&R(e),this.config.debug&&(k(["Инициализируем SDK"],"info"),k(["Параметры инициализации: ",this.config],"info")),this.userHelper.setConfig({baseUrl:this.config.baseUrl,clientId:this.config.oidc.client_id}),this.userHelper.setListener(this.handleUserChange.bind(this)),this.fastLogin=new Ne(e),this.config.notification&&(this.notifyBanner=new Ge(s({onButtonClick:this.handleButtonClick.bind(this)},e))),this.universalLinkDetect=new Le(e),this.config.container){var n=[];n=this.config.container instanceof HTMLDivElement?n.concat(this.config.container):Array.from(document.querySelectorAll(this.config.container));for(var i=0;i<n.length;i+=1)this.createButton(e,n[i]);this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Login_Show",eventType:"Show",extendedProperties:{}})}this.setOIDCParams(this.config.oidc),this.config.personalization&&this.getUser()},e.prototype.createButton=function(e,t){var n=new je(e,t,e.onButtonClick||this.handleButtonClick.bind(this));this.buttons.push(n)},e.prototype.handleUserChange=function(e){var t;this.user=e,e||null===(t=this.notifyBanner)||void 0===t||t.hide()},e.prototype.silentAuthorization=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.fastLogin.authorization(this.oidcParams)];case 1:return[2,e.sent()]}}))}))},e.prototype.getUser=function(){return a(this,void 0,void 0,(function(){var e,t=this;return c(this,(function(n){switch(n.label){case 0:return x(),this.config.debug&&k(["Получаем информацию о пользователе"],"info"),[4,this.userHelper.getUser().catch((function(e){t.config.debug&&k(["Ошибка при получении данных о пользователе",e],"error")}))];case 1:return(e=n.sent())?[4,this.onGetUserSuccess(e)]:[3,3];case 2:return n.sent(),[3,4];case 3:this.config.debug&&k(["Ошибка при получении данных о пользователе"],"error"),n.label=4;case 4:return I(),[2]}}))}))},e.prototype.disable=function(){for(var e=0;e<this.buttons.length;e+=1)this.buttons[e].disable()},e.prototype.enable=function(){for(var e=0;e<this.buttons.length;e+=1)this.buttons[e].enable()},e.prototype.handleButtonClick=function(e,t){var n,i,r;return a(this,void 0,void 0,(function(){var o,s,a;return c(this,(function(c){switch(c.label){case 0:return this.w=void 0,e.preventDefault(),e.stopPropagation(),"disabled"===(null==t?void 0:t.getAttribute("disabled"))||"true"===(null==t?void 0:t.getAttribute("disabled"))?[2,!1]:(x(),this.disable(),this.config.sa&&(o={personalization:"true"===(null===(n=null==t?void 0:t.dataset)||void 0===n?void 0:n.personalization)},T({eventCategory:"Login",eventAction:"sberid_Login_Button_Click",eventType:"Result",extendedProperties:o})),s=(null===(i=e.target.closest(".sbid-button"))||void 0===i?void 0:i.getAttribute("href"))||"",this.user&&this.config.fastLogin?[4,this.silentAuthorization()]:[3,2]);case 1:if((a=c.sent()).success)this.config.debug&&k(["Успешный быстрый вход",a.data],"success"),this.onSuccessCallback(a.data),null===(r=this.notifyBanner)||void 0===r||r.onClose();else{if(this.config.debug&&k(["Ошибка быстрого входа",a.data],"error"),"popup"===this.config.display&&"desktop"===this.parser.getPlatformType(!0))return this.openDialog(s),[2,!1];window.location.href=s}return I(),this.enable(),[3,3];case 2:if("popup"===this.config.display&&"desktop"===this.parser.getPlatformType(!0))return this.openDialog(s),[2,!1];window.location.href=s,c.label=3;case 3:return[2,!1]}}))}))},e.prototype.onGetUserSuccess=function(e){var t,n,i;return a(this,void 0,void 0,(function(){var r,o;return c(this,(function(s){switch(s.label){case 0:return this.user=e,this.config.debug&&k(["Данные о пользователе получены",e],"success"),parseInt(null!==(t=Ee.get("sbid_notification_banner_closed"))&&void 0!==t?t:"0",10)||!this.user?[3,2]:[4,null===(n=this.notifyBanner)||void 0===n?void 0:n.show(e)];case 1:s.sent(),s.label=2;case 2:if(!this.user||!this.config.fastLogin||"auto"!==this.config.fastLoginMode)return[3,7];x(),this.disable(),s.label=3;case 3:return s.trys.push([3,5,6,7]),[4,this.silentAuthorization()];case 4:return(r=s.sent()).success&&(this.config.debug&&k(["Успешный быстрый вход",r.data],"success"),this.onSuccessCallback&&this.onSuccessCallback(r.data),null===(i=this.notifyBanner)||void 0===i||i.onClose()),[3,7];case 5:return o=s.sent(),this.config.debug&&k(["Автоматический вход не удался",o],"error"),[3,7];case 6:return I(),this.enable(),[7];case 7:return[2]}}))}))},e.getVersion=function(){return"3.0.3"},e.prototype.setOIDCParams=function(e){return a(this,void 0,void 0,(function(){var t,n,i,r,o,a,u;return c(this,(function(c){switch(c.label){case 0:return t=this.universalLinkDetect.buildOidcParams(e),n=Object.keys(t),i=n.includes("app_redirect_uri")&&n.includes("authApp")||"false"===n.is_universal_link,this.oidcParams=s({},t),r="mobile"===this.parser.getPlatformType(!0),o=f(this.config.baseUrl),r&&this.config.deeplink.enable&&t.sberIDRedirect&&(a=decodeURIComponent(t.sberIDRedirect),(this.config.deeplink.allowSberIDRedirects.length>0&&-1!==this.config.deeplink.allowSberIDRedirects.indexOf(a)||0===this.config.deeplink.allowSberIDRedirects.length)&&(o=a,i=!0,"auto"===this.config.deeplink.mode?(this.config.debug&&k(["Автоматический переход по deeplink: ",_(o,this.oidcParams)]),window.location.href=_(o,this.oidcParams)):this.config.debug&&k(["Будет осуществлен переход по deeplink: ",_(o,this.oidcParams)]))),!this.config.mweb2app||i?[3,2]:[4,this.universalLinkDetect.run(this.oidcParams)];case 1:return u=c.sent(),this.config.debug&&k(["Получаем данные для формирования ссылки: ",u]),this.sbUniversalLinkCallback(u),[3,3];case 2:this.sbUniversalLinkCallback({isUniversalLink:!1,link:_(o,this.oidcParams)}),c.label=3;case 3:return[2]}}))}))},e.prototype.sbUniversalLinkCallback=function(e){for(var t=0;t<this.buttons.length;t+=1)this.buttons[t].setUrl(e.link)},e.prototype.checkState=function(e){var t=Ee.get("sbid_state");return!e||t===e||(this.w&&(this.windowStatus="closed",this.w.close()),"function"==typeof this.onErrorCallback&&this.onErrorCallback({code:"error",error:"invalid_state",description:g.invalid_state}),Ee.delete("sbid_state"),!1)},e.prototype.listener=function(e){var t={};try{t=JSON.parse(e.data)}catch(t){this.config.debug&&k(["Ошибка при обработке postMessage",e.data],"info")}if((!this.config.generateState||this.checkState(null==t?void 0:t.state))&&t&&("success"===t.status||"error"===t.status)&&(this.w&&(this.windowStatus="closed",this.w.close(),this.w=void 0),"success"===t.status&&"function"==typeof this.onSuccessCallback&&(this.config.sa&&T({eventCategory:"Login",eventAction:"sberid_Login_Auth_Result",eventType:"Result",result:"success"}),I(),this.enable(),this.onSuccessCallback(t)),"error"===t.status&&"function"==typeof this.onErrorCallback)){if(this.config.sa){var n=t.error+"_"+t.description;T({eventCategory:"Login",eventAction:"sberid_Login_Auth_Result",eventType:"Result",result:"fail",description:n})}I(),this.enable(),this.onErrorCallback(t)}},e.prototype.addWindowListener=function(){var e=this.listener.bind(this);return window.addEventListener("message",e),this.config.debug&&k(["Добавляем обработчики при открытии окна."],"info"),function(){return k(["Удаляем обработчики открытого окна."],"info"),window.removeEventListener("message",e)}},e.prototype.openDialog=function(e,t){var n=this;if(this.config.debug&&k(["Открываем окно авторизации через Сбер ID."],"info"),this.w=function(e,t){void 0===t&&(t={});var n={directories:"no",status:"no",menubar:"no",scrollbars:"yes",resizable:"no",width:600,height:600,centered:!0};if(Object.keys(n).forEach((function(e){t[e]=t.hasOwnProperty(e)?t[e]:n[e]})),t.centered){var i=void 0!==window.screenX?window.screenX:window.screenLeft,r=void 0!==window.screenY?window.screenY:window.screenTop;t.left=parseInt("".concat(i+(window.innerWidth-t.width)/2),10),t.top=parseInt("".concat(r+(window.innerHeight-t.height)/2),10)}var o=window.open(e,"_blank",Object.keys(t).map((function(e){return e+"="+t[e]})).join(",")),s=[],a=setInterval((function(){o&&o.closed&&(clearInterval(a),s.forEach((function(e){e&&e()})))}));return o&&(o.onclose=function(e){s.push(e)}),o}(e,t),this.w){this.windowStatus="opened",this.removeWindowListener=this.addWindowListener();var i=setInterval((function(){n.w&&!n.w.closed||(clearInterval(i),n.closeCallback())}),100)}},e.prototype.closeCallback=function(){if(this.config.debug&&k(["Вызываем функцию обратного вызова при закрытии окна."],"info"),"closed"!==this.windowStatus&&(this.windowStatus="closed",this.w=void 0,"function"==typeof this.onErrorCallback)){if(this.config.sa)T({eventCategory:"Login",eventAction:"sberid_Login_Auth_Result",eventType:"Result",result:"fail",description:"window_closed_"+g.window_closed});I(),this.enable(),this.onErrorCallback({code:"error",error:"window_closed",description:g.window_closed})}this.removeWindowListener()},e}();function Ze(e){return new Ke(e)}var Qe=Ze;Qe.SberidSDK=Ke,Qe.createSberidSDK=Ze,Qe.SberidButton=je,Qe.NotificationBanner=Ge,Qe.FastLogin=Ne,Qe.SberidUniversalLink=Le,Qe.UserHelper=Ue,Qe.successWindowListener=function(){var e=y();if(window.opener&&(e.code||e.error)){var t=s({status:"success"},e);t.error&&(t.status="error",t.description="string"==typeof t.code?g[t.code]||"Что-то пошло не так":"");try{window.opener.postMessage(JSON.stringify(Object.assign(t,e)),window.opener.location.href)}catch(e){k(["Ошибка при отправке сообщения из окна авторизации по Сбер ID",e],"error")}}},function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=40)}([function(e,t,n){var i=n(28)("wks"),r=n(30),o=n(2).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(12)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports={}},function(e,t,n){var i=n(6),r=n(13);e.exports=n(3)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(7),r=n(48),o=n(49),s=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(11);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(86);n.d(t,"a",(function(){return i.a}))},function(e,t,n){var i=n(2),r=n(1),o=n(22),s=n(5),a=n(10),c=function(e,t,n){var u,d,l,f=e&c.F,p=e&c.G,h=e&c.S,b=e&c.P,v=e&c.B,g=e&c.W,w=p?r:r[t]||(r[t]={}),m=w.prototype,y=p?i:h?i[t]:(i[t]||{}).prototype;for(u in p&&(n=t),n)(d=!f&&y&&void 0!==y[u])&&a(w,u)||(l=d?y[u]:n[u],w[u]=p&&"function"!=typeof y[u]?n[u]:v&&d?o(l,i):g&&y[u]==l?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):b&&"function"==typeof l?o(Function.call,l):l,b&&((w.virtual||(w.virtual={}))[u]=l,e&c.R&&m&&!m[u]&&s(m,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(25),r=n(15);e.exports=function(e){return i(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(28)("keys"),r=n(30);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(15);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(63)(!0);n(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"e",(function(){return l}));var i=10,r="_sa",o="_sv",s="SA",a="1",c=[r,o,"_ga","_ym_uid","top100_id","_fbp","VID","tmr_lvid","Segmento_UID","sbbolUserGuid","sbbolOrgGUID"],u={utm_source:"source",utm_medium:"medium",utm_campaign:"campaign",utm_term:"term",utm_content:"content"},d="1.5.2",l="WEB"},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(76)),o=i(n(82));t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],i=!0,r=!1,s=void 0;try{for(var a,c=(0,o.default)(e);!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(r)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var i=n(47);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(11),r=n(2).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(51),r=n(31);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(16),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(1),r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(29)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(61));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){var i=n(29),r=n(9),o=n(64),s=n(5),a=n(4),c=n(65),u=n(35),d=n(69),l=n(0)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,b,v,g){c(n,t,h);var w,m,y,_=function(e){if(!f&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",k="values"==b,O=!1,E=e.prototype,x=E[l]||E["@@iterator"]||b&&E[b],I=x||_(b),A=b?k?_("entries"):I:void 0,C="Array"==t&&E.entries||x;if(C&&(y=d(C.call(new e)))!==Object.prototype&&y.next&&(u(y,S,!0),i||"function"==typeof y[l]||s(y,l,p)),k&&x&&"values"!==x.name&&(O=!0,I=function(){return x.call(this)}),i&&!g||!f&&!O&&E[l]||s(E,l,I),a[t]=I,a[S]=p,b)if(w={values:k?I:_("values"),keys:v?I:_("keys"),entries:A},g)for(m in w)m in E||o(E,m,w[m]);else r(r.P+r.F*(f||O),t,w);return w}},function(e,t,n){var i=n(6).f,r=n(10),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(37),r=n(0)("iterator"),o=n(4);e.exports=n(1).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(26),r=n(0)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=function(){var e=window.location.hostname.split(".").reverse();return"."+e[1]+"."+e[0]},r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,r="";if(n){var o=new Date;o.setTime(o.getTime()+864e5*n),r="expires="+o.toUTCString()+";"}var s="domain="+i()+";";document.cookie=e+"="+(t||"")+";"+r+s+"samesite=strict;secure;path=/"},o=function(e){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}},function(e,t,n){n(78);for(var i=n(2),r=n(5),o=n(4),s=n(0)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],d=i[u],l=d&&d.prototype;l&&!l[s]&&r(l,s,u),o[u]=o.Array}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(41);i.a._noSVIC=!1,i.a._urlSVIC="https://visor.sberbank.ru/get",window.SberVisor=i.a},function(e,t,n){function i(e){return e&&"[object Function]"==={}.toString.call(e)}n.d(t,"a",(function(){return C}));var r,o,s,a=n(42),c=n.n(a),u=n(43),d=n.n(u),l=n(32),f=n.n(l),p=n(56),h=n.n(p),b=n(60),v=n(75),g=n(87),w=n(88),m=n(89),y=n(90),_=n(91),S=n(92),k=n(94),O=n(38),E=n(95),x=n(20),I=n(96),A=n(98),C=(o=r=function(){function e(t){var n=t.apiKey,r=t.sberId,o=t.sessionId,a=t.appId,c=t.partnerId,u=t.sapId,d=t.subId,l=t.adId,p=t.url,h=t.buffer,v=t.withoutCookie,g=t.withoutUTM,m=t.noTimer,O=t.afterInit;f()(this,e),s.call(this),this.constructor._noSVIC||(this._receivingId=!0,Object(A.a)(this.constructor._urlSVIC,this._sCookieReceive)),this._config={buffer:h||x.d,url:p},this._meta={platform:x.e,screenSize:window.screen.width+"x"+window.screen.height,browser:Object(y.a)(),systemLanguage:Object(_.a)(),apiKey:n,sberId:r},Object(I.a)(this._meta),this._profile={sessionId:o,appId:a,partnerId:c,sapId:u,subId:d,adId:l},Object(E.a)(this._hook),this._queue=new k.a,this._withoutCookie=v,this._withoutUTM=g,this._utm=Object(S.a)(),this.version=x.i;var C=Object(b.a)();!m&&this._startTimer(),setInterval(w.b,1e4),i(O)&&O(C)}return h()(e,[{key:"sessionId",get:function(){return this._profile.sessionId},set:function(e){this._profile.sessionId=e}},{key:"appId",get:function(){return this._profile.appId},set:function(e){this._profile.appId=e}},{key:"partnerId",get:function(){return this._profile.partnerId},set:function(e){this._profile.partnerId=e}},{key:"sapId",get:function(){return this._profile.sapId},set:function(e){this._profile.sapId=e}},{key:"subId",get:function(){return this._profile.appId},set:function(e){this._profile.appId=e}},{key:"adId",get:function(){return this._profile.adId},set:function(e){this._profile.adId=e}}],[{key:"onBeforeSend",set:function(e){this._onBeforeSend=e}},{key:"headers",set:function(e){this._headers=e}},{key:"noSVIC",set:function(e){this._noSVIC=e}}]),e}(),r.version=x.i,s=function(){var e=this;this._setMeta=function(t){Object.assign(e._meta,t)},this._setProfile=function(t){Object.assign(e._profile,t)},this._setConfig=function(t){Object.assign(e._config,t)},this._sendRaw=function(t){e._queue.push(t),e._sendIfNeeded(!0)},this._startTimer=function(){e._resetCounter(),setInterval((function(){--e.counter<0&&(e.counter=10,e._sendIfNeeded(!0))}),1e3)},this._resetCounter=function(){e.counter=10},this._sCookieReceive=function(t){e._receivingId=!1,t?(e._cid=t,e._saveSV(t)):e._getSV()&&(e._cid=t),e._sendIfNeeded()},this._saveSV=function(e){localStorage.removeItem(x.g),localStorage.setItem(x.g,e)},this._getSV=function(){return localStorage.getItem(x.g)},this._extractCookies=function(){var e=[];return x.a.forEach((function(t){var n=Object(O.a)(t);n&&e.push({key:t,value:n})})),e},this._getBody=function(){e._setMeta({timeStamp:Object(m.a)()});var t={meta:e._meta,profile:d()({},e._profile),data:e._queue.pick()};if(!e._withoutCookie){var n=e._extractCookies();!e._receivingId&&e._cid&&n.push({key:x.g,value:e._cid}),n&&n.length&&(t.profile.cookie=n)}return!e._withoutUTM&&e._utm&&e._utm.length&&(t.profile.utm=e._utm),t},this._hook=function(){var t=e._config.url;return t&&e._queue.length()?{packet:e._getBody(),url:t}:null},this._addUserInfo=function(e){return d()({},e,{batteryLevel:w.a,connectionType:Object(g.a)(),timeStamp:Object(m.a)()})},this._convertProps=function(e){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},this._checkApiKey=function(){!e._meta.apiKey&&console.warn("[sa] apiKey is empty!")},this.push=function(t){var n=t.properties,i=c()(t,["properties"]);e._resetCounter();var r=i;if(n){var o=e._convertProps(n);o.length&&(r.properties=o)}e._queue.push(e._addUserInfo(r)),e._sendIfNeeded()},this._sendIfNeeded=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e._config,r=n.url,o=n.buffer;if(!e._receivingId){!r&&console.warn("[sa] url is empty!"),e._checkApiKey();var s=e._queue.length(),a=s>=(t?1:o);if(r&&a){var c=e._getBody(),u=c;i(e.constructor._onBeforeSend)&&(u=e.constructor._onBeforeSend(c)),Object(v.a)(r,u,!0,(function(){return e._queue.revert(c.data)}),e.constructor._headers)}}}},o)},function(e,t,n){t.__esModule=!0,t.default=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}},function(e,t,n){t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(44));t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,n){e.exports={default:n(45),__esModule:!0}},function(e,t,n){n(46),e.exports=n(1).Object.assign},function(e,t,n){var i=n(9);i(i.S+i.F,"Object",{assign:n(50)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(3)&&!n(12)((function(){return 7!=Object.defineProperty(n(23)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(11);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(3),r=n(24),o=n(54),s=n(55),a=n(18),c=n(25),u=Object.assign;e.exports=!u||n(12)((function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=i}))?function(e,t){for(var n=a(e),u=arguments.length,d=1,l=o.f,f=s.f;u>d;)for(var p,h=c(arguments[d++]),b=l?r(h).concat(l(h)):r(h),v=b.length,g=0;v>g;)p=b[g++],i&&!f.call(h,p)||(n[p]=h[p]);return n}:u},function(e,t,n){var i=n(10),r=n(14),o=n(52)(!1),s=n(17)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),c=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;t.length>c;)i(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var i=n(14),r=n(27),o=n(53);e.exports=function(e){return function(t,n,s){var a,c=i(t),u=r(c.length),d=o(s,u);if(e&&n!=n){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var i=n(16),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(57));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){e.exports={default:n(58),__esModule:!0}},function(e,t,n){n(59);var i=n(1).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(9);i(i.S+i.F*!n(3),"Object",{defineProperty:n(6).f})},function(e,t,n){n.d(t,"a",(function(){return u}));var i=n(33),r=n.n(i),o=n(38),s=n(20),a={getRandomValues:function(e){for(var t=[].concat(r()(e)),n=0;n<t.length;n+=1)t[n]=Math.floor(256*Math.random());return t}},c=window.crypto||window.msCrypto||a,u=function(){var e=Object(o.a)(s.f);if(e)return e;var t="10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(e){return(e^c.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),n=Math.floor((new Date).getTime()/1e3),i=s.b+s.c+"."+t+"."+n;return Object(o.b)(s.f,i),i}},function(e,t,n){e.exports={default:n(62),__esModule:!0}},function(e,t,n){n(19),n(70),e.exports=n(1).Array.from},function(e,t,n){var i=n(16),r=n(15);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),c=i(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){e.exports=n(5)},function(e,t,n){var i=n(66),r=n(13),o=n(35),s={};n(5)(s,n(0)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(7),r=n(67),o=n(31),s=n(17)("IE_PROTO"),a=function(){},c=function(){var e,t=n(23)("iframe"),i=o.length;for(t.style.display="none",n(68).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c.prototype[o[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(6),r=n(7),o=n(24);e.exports=n(3)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,c=0;a>c;)i.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var i=n(2).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(10),r=n(18),o=n(17)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var i=n(22),r=n(9),o=n(18),s=n(71),a=n(72),c=n(27),u=n(73),d=n(36);r(r.S+r.F*!n(74)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,l,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,g=0,w=d(f);if(v&&(b=i(b,h>2?arguments[2]:void 0,2)),null==w||p==Array&&a(w))for(n=new p(t=c(f.length));t>g;g++)u(n,g,v?b(f[g],g):f[g]);else for(l=w.call(f),n=new p;!(r=l.next()).done;g++)u(n,g,v?s(l,b,[r.value,g],!0):r.value);return n.length=g,n}})},function(e,t,n){var i=n(7);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(4),r=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(6),r=n(13);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(0)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){var i=n(21),r=n.n(i),o=n(85),s=function(){},a={"Content-type":"application/json;charset=utf-8"};t.a=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a;if(Object(o.a)()){var u=new XMLHttpRequest;u.open("POST",e,n),Object.entries(c).forEach((function(e){var t=r()(e,2),n=t[0],i=t[1];u.setRequestHeader(n,i)})),u.send(JSON.stringify(t)),u.onreadystatechange=function(){4===u.readyState&&u.status>=400&&500!==u.status&&i()},u.onerror=i}else i()}},function(e,t,n){e.exports={default:n(77),__esModule:!0}},function(e,t,n){n(39),n(19),e.exports=n(81)},function(e,t,n){var i=n(79),r=n(80),o=n(4),s=n(14);e.exports=n(34)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var i=n(37),r=n(0)("iterator"),o=n(4);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(i(t))}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(39),n(19),e.exports=n(84)},function(e,t,n){var i=n(7),r=n(36);e.exports=n(1).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){var i=n(8);t.a=function(){return Object(i.a)(window.navigator,"onLine")}},function(e,t,n){n.d(t,"a",(function(){return i}));var i=function e(){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=r[o];return n.length&&void 0!==s?e.apply(void 0,[s].concat(n)):s}},function(e,t,n){var i=n(8),r={bluetooth:"BLUETOOTH",cellular:"CELLULAR",ethernet:"ETHERNET",wifi:"WIFI",none:"UNKNOWN",wimax:"UNKNOWN",other:"UNKNOWN",unknown:"UNKNOWN"};t.a=function(){return r[Object(i.a)(window.navigator,"connection","type")]}},function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(8),r=void 0,o=function(){var e=Object(i.a)(window.navigator,"battery")||Object(i.a)(window.navigator,"webkitBattery")||Object(i.a)(window.navigator,"mozBattery");if(e){var t=Object(i.a)(e,"level");r=t?(100*t).toString():void 0}else window.navigator.getBattery&&window.navigator.getBattery().then((function(e){r=(100*e.level).toString()}))}},function(e,t,n){var i=n(21),r=n.n(i),o=function(e){return e<10?"0"+e:e};t.a=function(){var e=new Date,t=new Date(e.valueOf()-6e4*e.getTimezoneOffset()),n=t.toISOString().split("Z");return""+r()(n,1)[0]+function(e){return(e<0?"+":"-")+o(Math.floor(Math.abs(e/60)))+":"+o(Math.abs(e%60))}(t.getTimezoneOffset())}},function(e,t,n){var i=n(8);t.a=function(){return Object(i.a)(window.navigator,"userAgent")}},function(e,t,n){var i=n(8);t.a=function(){return Object(i.a)(window.navigator,"browserLanguage")||Object(i.a)(window.navigator,"userLanguage")||Object(i.a)(window.navigator,"systemLanguage")||Object(i.a)(window.navigator,"language")}},function(e,t,n){var i=n(20),r=n(93);t.a=function(){try{var e=Object(r.a)(window.location.search),t=[];return Object.keys(i.h).forEach((function(n){e[n]&&t.push({key:i.h[n],value:e[n]})})),t}catch(e){return console.warn("[sa] "+e),null}}},function(e,t,n){var i=n(21),r=n.n(i);t.a=function(e){var t=e.slice(e.indexOf("?")+1).split("&"),n={};return t.forEach((function(e){var t=e.split("="),i=r()(t,2),o=i[0],s=i[1];n[o]=decodeURIComponent(s)})),n}},function(e,t,n){n.d(t,"a",(function(){return a}));var i=n(33),r=n.n(i),o=n(32),s=n.n(o),a=function e(){var t=this;s()(this,e),this._queue=[],this.length=function(){return t._queue.length},this.push=function(e){return t._queue.push(e)},this.pick=function(){return t._queue.splice(0,t._queue.length)},this.revert=function(e){var n;return(n=t._queue).splice.apply(n,[0,0].concat(r()(e)))}}},function(e,t,n){var i={type:"application/json"};t.a=function(e){window.addEventListener("beforeunload",(function(){var t=e();if(t){var n=t.packet,r=t.url;if(navigator.sendBeacon){var o=new Blob([JSON.stringify(n)],i);navigator.sendBeacon(r,o)}else request(r,n,!0)}}))}},function(e,t,n){var i=n(97),r=new(n.n(i).a);t.a=function(e){var t=r.getResult(),n=t.browser,i=t.device,o=t.os;i.model&&(e.deviceModel=i.model),i.vendor&&(e.deviceVendor=i.vendor),o.name&&(e.operationSystem=o.name),o.version&&(e.operationSystemVersion=o.version),e.browser=n.name+"|"+n.version}},function(e,t,n){var i;
/*!@license
  * UAParser.js v0.7.28
  * Lightweight JavaScript-based User-Agent string parser
  * https://github.com/faisalman/ua-parser-js
  *
  * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
  * Licensed under MIT License
  */!function(r,o){var s="model",a="name",c="type",u="vendor",d="version",l="mobile",f="tablet",p="smarttv",h={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){
/*!@license
        * UAParser.js v0.7.28
        * Lightweight JavaScript-based User-Agent string parser
        * https://github.com/faisalman/ua-parser-js
        *
        * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
        * Licensed under MIT License
        */
return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},b={rgx:function(e,t){for(var n,i,r,o,s,a,c=0;c<t.length&&!s;){var u=t[c],d=t[c+1];for(n=i=0;n<u.length&&!s;)if(s=u[n++].exec(e))for(r=0;r<d.length;r++)a=s[++i],"object"==typeof(o=d[r])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(h.has(t[n][i],e))return"?"===n?void 0:n}else if(h.has(t[n],e))return"?"===n?void 0:n;return e}},v={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[a,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[a,d],[/opios[\/\s]+([\w\.]+)/i],[d,[a,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[d,[a,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[a,d],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[d,[a,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[d,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[a,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[d,[a,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure Browser"],d],[/focus\/([\w\.]+)/i],[d,[a,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[d,[a,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[d,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[a,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[a,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[d,[a,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[a,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],d],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[a,d],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[a],[/;fbav\/([\w\.]+);/i],[d,[a,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[a,d],[/\bgsa\/([\w\.]+)\s.*safari\//i],[d,[a,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,"Chrome WebView"],d],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[d,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,d],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[a,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[d,b.str,v.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],d],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[d,[a,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[s,[u,"Samsung"],[c,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[s,[u,"Samsung"],[c,l]],[/\((ip(?:hone|od)[\s\w]*);/i],[s,[u,"Apple"],[c,l]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[u,"Apple"],[c,f]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[s,[u,"Huawei"],[c,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[s,[u,"Huawei"],[c,l]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[s,/_/g," "],[u,"Xiaomi"],[c,l]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[s,/_/g," "],[u,"Xiaomi"],[c,f]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[s,[u,"OPPO"],[c,l]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[s,[u,"Vivo"],[c,l]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[s,[u,"Realme"],[c,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[s,[u,"Motorola"],[c,l]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[u,"Motorola"],[c,f]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[s,[u,"LG"],[c,f]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[s,[u,"LG"],[c,l]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[s,[u,"Lenovo"],[c,f]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[s,/_/g," "],[u,"Nokia"],[c,l]],[/droid.+;\s(pixel\sc)[\s)]/i],[s,[u,"Google"],[c,f]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[s,[u,"Google"],[c,l]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[u,"Sony"],[c,l]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[s,"Xperia Tablet"],[u,"Sony"],[c,f]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[s,[u,"OnePlus"],[c,l]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[s,[u,"Amazon"],[c,f]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[s,"Fire Phone"],[u,"Amazon"],[c,l]],[/\((playbook);[\w\s\),;-]+(rim)/i],[s,u,[c,f]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[s,[u,"BlackBerry"],[c,l]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[s,[u,"ASUS"],[c,f]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[s,[u,"ASUS"],[c,l]],[/(nexus\s9)/i],[s,[u,"HTC"],[c,f]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[s,/_/g," "],[c,l]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[u,"Acer"],[c,f]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[s,[u,"Meizu"],[c,l]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,s,[c,l]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[u,s,[c,f]],[/\s(surface\sduo)\s/i],[s,[u,"Microsoft"],[c,f]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[s,[u,"Fairphone"],[c,l]],[/\s(u304aa)\sbuild/i],[s,[u,"AT&T"],[c,l]],[/sie-(\w*)/i],[s,[u,"Siemens"],[c,l]],[/[;\/]\s?(rct\w+)\sbuild/i],[s,[u,"RCA"],[c,f]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[s,[u,"Dell"],[c,f]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[s,[u,"Verizon"],[c,f]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[s,[u,"Barnes & Noble"],[c,f]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[s,[u,"NuVision"],[c,f]],[/;\s(k88)\sbuild/i],[s,[u,"ZTE"],[c,f]],[/;\s(nx\d{3}j)\sbuild/i],[s,[u,"ZTE"],[c,l]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[s,[u,"Swiss"],[c,l]],[/[;\/]\s?(zur\d{3})\sbuild/i],[s,[u,"Swiss"],[c,f]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[s,[u,"Zeki"],[c,f]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[u,"Dragon Touch"],s,[c,f]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[s,[u,"Insignia"],[c,f]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[s,[u,"NextBook"],[c,f]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[u,"Voice"],s,[c,l]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[u,"LvTel"],s,[c,l]],[/;\s(ph-1)\s/i],[s,[u,"Essential"],[c,l]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[s,[u,"Envizen"],[c,f]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[s,[u,"MachSpeed"],[c,f]],[/[;\/]\s?tu_(1491)\sbuild/i],[s,[u,"Rotor"],[c,f]],[/(shield[\w\s]+)\sbuild/i],[s,[u,"Nvidia"],[c,f]],[/(sprint)\s(\w+)/i],[u,s,[c,l]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[u,"Microsoft"],[c,l]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[u,"Zebra"],[c,f]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[u,"Zebra"],[c,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[u,s,[c,"console"]],[/droid.+;\s(shield)\sbuild/i],[s,[u,"Nvidia"],[c,"console"]],[/(playstation\s[345portablevi]+)/i],[s,[u,"Sony"],[c,"console"]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[s,[u,"Microsoft"],[c,"console"]],[/smart-tv.+(samsung)/i],[u,[c,p]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[u,"Samsung"],[c,p]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[u,"LG"],[c,p]],[/(apple)\s?tv/i],[u,[s,"Apple TV"],[c,p]],[/crkey/i],[[s,"Chromecast"],[u,"Google"],[c,p]],[/droid.+aft([\w])(\sbuild\/|\))/i],[s,[u,"Amazon"],[c,p]],[/\(dtv[\);].+(aquos)/i],[s,[u,"Sharp"],[c,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,h.trim],[s,h.trim],[c,p]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[c,p]],[/((pebble))app\/[\d\.]+\s/i],[u,s,[c,"wearable"]],[/droid.+;\s(glass)\s\d/i],[s,[u,"Google"],[c,"wearable"]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[s,[u,"Zebra"],[c,"wearable"]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[u,[c,"embedded"]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[s,[c,l]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[s,[c,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,h.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[u,"Generic"]],[/(phone)/i],[[c,l]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[a,[d,b.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[d,b.str,v.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[a,"Mac OS"],[d,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[a,d],[/\(bb(10);/i],[d,[a,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[d,[a,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[a,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[a,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],d],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[a,d],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],d],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,d]]},w=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof w))return new w(e,t).getResult();var n=e||(void 0!==r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?h.extend(g,t):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,n,i.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return b.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return b.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n="string"==typeof e&&e.length>255?h.trim(e,255):e,this},this.setUA(n),this};w.VERSION="0.7.28",w.BROWSER={NAME:a,MAJOR:"major",VERSION:d},w.CPU={ARCHITECTURE:"architecture"},w.DEVICE={MODEL:s,VENDOR:u,TYPE:c,CONSOLE:"console",MOBILE:l,SMARTTV:p,TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},w.ENGINE={NAME:a,VERSION:d},w.OS={NAME:a,VERSION:d},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=w),t.UAParser=w):void 0!==(i=function(){return w}.call(t,n,t,e))&&(e.exports=i);var m=void 0!==r&&(r.jQuery||r.Zepto);if(m&&!m.ua){var y=new w;m.ua=y.getResult(),m.ua.get=function(){return y.getUA()},m.ua.set=function(e){y.setUA(e);var t=y.getResult();for(var n in t)m.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){t.a=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.withCredentials=!0,n.setRequestHeader("Content-type","application/json"),n.send(),n.onload=function(){try{var e=JSON.parse(n.response).id;t&&t(e)}catch(e){t()}},n.onerror=function(){t()}}}]);var Xe=Object.freeze({__proto__:null});module.exports=Qe;
